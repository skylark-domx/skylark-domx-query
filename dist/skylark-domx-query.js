/**
 * skylark-domx-query - The skylark query library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,n){var e=n.define,r=n.require,i="function"==typeof e&&e.amd,o=!i&&"undefined"!=typeof exports;if(!i&&!e){var s={};e=n.define=function(t,n,e){"function"==typeof e?(s[t]={factory:e,deps:n.map(function(n){return function(t,n){if("."!==t[0])return t;var e=n.split("/"),r=t.split("/");e.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?e.pop():e.push(r[i]));return e.join("/")}(n,t)}),resolved:!1,exports:null},r(t)):s[t]={factory:null,resolved:!0,exports:e}},r=n.require=function(t){if(!s.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var e=s[t];if(!e.resolved){var i=[];e.deps.forEach(function(t){i.push(r(t))}),e.exports=e.factory.apply(n,i)||null,e.resolved=!0}return e.exports}}if(!e)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,n){t("skylark-domx-query/query",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-eventer","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-fx","skylark-domx-scripter"],function(t,n,e,r,i,o,s,a,c,l){var u,f=Array.prototype.some,h=Array.prototype.push,p=(Array.prototype.every,Array.prototype.concat,Array.prototype.slice),d=(Array.prototype.map,Array.prototype.filter),y=Array.prototype.forEach,v=Array.prototype.indexOf,m=Array.prototype.sort,g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=n.funcArg,x=n.isArrayLike,b=n.isString,w=n.uniq,A=n.isFunction,S=n.type,O=(n.isArray,n.isWindow,n.isDocument,n.isObject);n.isPlainObject,n.compact,n.flatten,n.camelCase,n.dasherize,o.children;function C(t,e){return function(){var r=p.call(arguments),i=n.map(this,function(n,i){return t.apply(e,[n].concat(r))});return D(w(i))}}function q(t,n,e){return function(r){p.call(arguments);var i=this.map(function(i,o){return t.apply(n,e?[o]:[o,r])});return e&&r?i.filter(r):i}}function E(t,n){return function(){var e=p.call(arguments);return this.each(function(r,i){t.apply(n,[this].concat(e))}),this}}function j(t,n,e){return function(r){var i=p.call(arguments);return y.call(this,function(o,s){k(o,r,s,e(o));t.apply(n,[o,r].concat(i.slice(1)))}),this}}function T(t,e,r){return function(i,o){var s=p.call(arguments);return n.isPlainObject(i)||n.isDefined(o)?(y.call(this,function(n,a){r&&k(n,o,a,r(n,i)),t.apply(e,[n].concat(s))}),this):this[0]?t.apply(e,[this[0],i]):void 0}}function P(t,e,r){return function(i){return n.isDefined(i)?(y.call(this,function(n,o){var s;s=r?k(n,i,o,r(n)):i,t.apply(e,[n,s])}),this):this[0]?t.apply(e,[this[0]]):void 0}}var z,N=n.klass({klassName:"SkNodeList",init:function(t,r){var i,s,a,c;if(t&&(this.context=r=r||e.doc(),b(t)?(this.selector=t,(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:g.exec(t))?i[1]?(s=e.createFragment(t),n.isPlainObject(r)&&(c=r)):(a=o.byId(i[2],e.ownerDoc(r)))&&(s=[a]):(n.isString(r)&&(r=o.find(r)),s=o.descendants(r,t))):s=t!==window&&x(t)?t:[t]),s&&(h.apply(this,s),c))for(var l in c)n.isFunction(this[l])?this[l](c[l]):this.attr(l,c[l]);return this}}),D=function(){u=function(t){return t instanceof N},init=function(t,n){return new N(t,n)};var t,g,k,z=function(t,n){if(!A(t))return u(t)?t:n&&u(n)&&b(t)?n.find(t):init(t,n);i.ready(function(){t(z)})};z.fn=N.prototype,n.mixin(z.fn,{length:0,map:function(t){return z(w(n.map(this,function(n,e){return t.call(n,e,n)})))},slice:function(){return z(p.apply(this,arguments))},forEach:function(){return y.apply(this,arguments)},get:function(t){return void 0===t?p.call(this):this[t>=0?t:t+this.length]},indexOf:function(){return v.apply(this,arguments)},sort:function(){return m.apply(this,arguments)},toArray:function(){return p.call(this)},size:function(){return this.length},remove:function(t){return t?this.find(t).remove():(this.each(function(t,n){e.remove(n)}),this)},each:function(t){return n.each(this,t),this},filter:function(t){return A(t)?this.not(this.not(t)):z(d.call(this,function(n){return o.matches(n,t)}))},add:function(t,n){return z(w(this.toArray().concat(z(t,n).toArray())))},is:function(t){if(this.length>0){if(n.isString(t))return f.call(this,function(n){return o.matches(n,t)});if(n.isArrayLike(t))return f.call(this,function(e){return n.inArray(e,t)>-1});if(n.isHtmlNode(t))return f.call(this,function(n){return n==t})}return!1},not:function(t){var n=[];if(A(t)&&void 0!==t.call)this.each(function(e,r){t.call(this,e,r)||n.push(this)});else{var e="string"==typeof t?this.filter(t):x(t)&&A(t.item)?p.call(t):z(t);this.forEach(function(t){e.indexOf(t)<0&&n.push(t)})}return z(n)},has:function(t){return this.filter(function(){return O(t)?e.contains(this,t):z(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:q(o.descendants,o),closest:q(o.closest,o),parents:q(o.ancestors,o),parentsUntil:(t=o.ancestors,g=o,function(n,e){p.call(arguments);var r=this.map(function(r,i){return t.apply(g,k?[i,n]:[i,e,n])});return k&&e?r.filter(e):r}),parent:q(o.parent,o),children:q(o.children,o),contents:C(e.contents,e),empty:E(e.empty,e),pluck:function(t){return n.map(this,function(n){return n[t]})},pushStack:function(t){var n=z(t);return n.prevObject=this,n},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=A(t);if(this[0]&&!n)var e=z(t).get(0),r=e.parentNode||this.length>1;return this.each(function(i,o){z(this).wrapAll(n?t.call(this,i,o):r?e.cloneNode(!0):e)})},wrapAll:function(t){if(this[0]){var n;for(z(this[0]).before(t=z(t));(n=t.children()).length;)t=n.first();z(t).append(this)}return this},wrapInner:function(t){var n=A(t);return this.each(function(e,r){var i=z(this),o=i.contents(),s=n?t.call(this,e,r):t;o.length?o.wrapAll(s):i.append(s)})},unwrap:function(t){return 0===this.parent().children().length?this.parent(t).not("body").each(function(){z(this).replaceWith(document.createTextNode(this.childNodes[0].textContent))}):this.parent().each(function(){z(this).replaceWith(z(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:E(c.hide,c),toggle:function(t){return this.each(function(){var n=z(this);(void 0===t?"none"==n.css("display"):t)?n.show():n.hide()})},prev:function(t){return z(this.pluck("previousElementSibling")).filter(t||"*")},prevAll:q(o.previousSiblings,o),next:function(t){return z(this.pluck("nextElementSibling")).filter(t||"*")},nextAll:q(o.nextSiblings,o),siblings:q(o.siblings,o),html:P(l.html,l,l.html),text:P(r.text,r,r.text),attr:T(r.attr,r,r.attr),removeAttr:E(r.removeAttr,r),prop:T(r.prop,r,r.prop),removeProp:E(r.removeProp,r),data:T(r.data,r,r.data),removeData:E(r.removeData,r),val:P(r.val,r,r.val),offset:P(s.pagePosition,s,s.pagePosition),style:T(a.css,a),css:T(a.css,a),index:function(t){return t?this.indexOf(z(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t,n){return function(){var e=p.call(arguments);return f.call(this,function(r){return t.apply(n,[r].concat(e))})}}(a.hasClass,a),addClass:j(a.addClass,a,a.className),removeClass:j(a.removeClass,a,a.className),toggleClass:j(a.toggleClass,a,a.className),scrollTop:P(s.scrollTop,s),scrollLeft:P(s.scrollLeft,s),position:function(t){if(this.length){if(t)return t.of&&t.of.length&&((t=n.clone(t)).of=t.of[0]),this.each(function(){s.posit(this,t)});var e=this[0];return s.relativePosition(e)}},offsetParent:C(s.offsetParent,s)}),z.fn.detach=z.fn.remove,z.fn.hover=function(t,n){return this.mouseenter(t).mouseleave(n||t)},z.fn.size=P(s.size,s),z.fn.width=P(s.width,s,s.width),z.fn.height=P(s.height,s,s.height),z.fn.clientSize=P(s.clientSize,s.clientSize),["width","height"].forEach(function(t){var n=t.replace(/./,function(t){return t[0].toUpperCase()});z.fn["outer"+n]=function(n,e){if(arguments.length?"boolean"!=typeof n&&(e=n,n=!1):(n=!1,e=void 0),void 0===e){var r=this[0];if(!r)return;var i=s.size(r);if(n){var o=s.marginExtents(r);i.width=i.width+o.left+o.right,i.height=i.height+o.top+o.bottom}return"width"===t?i.width:i.height}return this.each(function(r,i){var o={},a=s.marginExtents(i);"width"===t?(o.width=e,n&&(o.width=o.width-a.left-a.right)):(o.height=e,n&&(o.height=o.height-a.top-a.bottom)),s.size(i,o)})}}),z.fn.innerWidth=P(s.clientWidth,s,s.clientWidth),z.fn.innerHeight=P(s.clientHeight,s,s.clientHeight);e.traverse;function D(t,r,i){return function(i){var o,s=n.map(arguments,function(t){return"function"==(o=S(t))||"object"==o||"array"==o||null==t?t:e.createFragment(t)});return s.length<1?this:(this.each(function(n){t.apply(r,[this,s,n>0])}),this)}}return z.fn.after=D(e.after,e),z.fn.prepend=D(e.prepend,e),z.fn.before=D(e.before,e),z.fn.append=D(e.append,e),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){z.fn[t]=function(t){for(var e,r=[],i=z(t),o=i.length-1,s=0;s<=o;s++)e=s===o?this:this.clone(!0),z(i[s])[n](e),h.apply(r,e.get());return this.pushStack(r)}}),z}();return(z=D).fn.on=E(i.on,i),z.fn.off=E(i.off,i),z.fn.trigger=E(i.trigger,i),"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error transitionEnd".split(" ").forEach(function(t){z.fn[t]=function(n,e){return 0 in arguments?this.on(t,n,e):this.trigger(t)}}),z.fn.one=function(t,e,r,i){return n.isString(e)||n.isFunction(i)||(i=r,r=e,e=null),n.isFunction(r)&&(i=r,r=null),this.on(t,e,r,i,1)},z.fn.animate=E(c.animate,c),z.fn.emulateTransitionEnd=E(c.emulateTransitionEnd,c),z.fn.show=E(c.show,c),z.fn.hide=E(c.hide,c),z.fn.toogle=E(c.toogle,c),z.fn.fadeTo=E(c.fadeTo,c),z.fn.fadeIn=E(c.fadeIn,c),z.fn.fadeOut=E(c.fadeOut,c),z.fn.fadeToggle=E(c.fadeToggle,c),z.fn.slideDown=E(c.slideDown,c),z.fn.slideToggle=E(c.slideToggle,c),z.fn.slideUp=E(c.slideUp,c),z.fn.scrollParent=function(t){var n=this.css("position"),e="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=z(this);return(!e||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:z(this[0].ownerDocument||document)},function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},t.fn.addBack=function(t){return this.prevObject?t?this.add(this.prevObject.filter(t)):this.add(this.prevObject):this},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings,prev,prevAll,next,nextAll".split(",").forEach(function(n){var e=t.fn[n];t.fn[n]=function(){var t=e.apply(this,arguments);return t.prevObject=this,t}})}(D),function(t){var r;t.fn.query=t.fn.find,t.fn.place=function(t,r){return n.isString(t)?t=o.descendant(t):u(t)&&(t=t[0]),this.each(function(n,i){switch(r){case"before":e.before(t,i);break;case"after":e.after(t,i);break;case"replace":e.replace(t,i);break;case"only":e.empty(t),e.append(t,i);break;case"first":e.prepend(t,i);break;default:e.append(t,i)}})},t.fn.addContent=function(t,e){return t.template&&(t=n.substitute(t.template,t)),this.append(t)},t.fn.replaceClass=function(t,n){return this.removeClass(n),this.addClass(t),this},t.fn.replaceClass=function(t,n){return this.removeClass(n),this.addClass(t),this},t.fn.disableSelection=(r="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(r+".ui-disableSelection",function(t){t.preventDefault()})}),t.fn.enableSelection=function(){return this.off(".ui-disableSelection")}}(D),D.fn.plugin=function(t,n){var e=p.call(arguments,1),r=this,i=this;return this.each(function(){i=plugins.instantiate.apply(r,[this,t].concat(e))}),i},t.attach("domx.query",D)}),t("skylark-domx-query/main",["./query"],function(t){return t}),t("skylark-domx-query",["skylark-domx-query/main"],function(t){return t})}(e),!i){var a=r("skylark-langx/skylark");o?module.exports=a:n.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-query.js.map
