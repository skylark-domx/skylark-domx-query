/**
 * skylark-domx-query - The skylark query library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,n){var e=n.define,require=n.require,r="function"==typeof e&&e.amd,a=!r&&"undefined"!=typeof exports;if(!r&&!e){var o={};e=n.define=function(t,n,e){"function"==typeof e?(o[t]={factory:e,deps:n.map(function(n){return function(t,n){if("."!==t[0])return t;var e=n.split("/"),r=t.split("/");e.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?e.pop():e.push(r[i]));return e.join("/")}(n,t)}),resolved:!1,exports:null},require(t)):o[t]={factory:null,resolved:!0,exports:e}},require=n.require=function(t){if(!o.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=o[t];if(!module.resolved){var e=[];module.deps.forEach(function(t){e.push(require(t))}),module.exports=module.factory.apply(n,e)||null,module.resolved=!0}return module.exports}}if(!e)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-langx-ns/_attach",[],function(){return function(t,n,e){"string"==typeof n&&(n=n.split("."));for(var r=n.length,i=t,a=0,o=n[a++];a<r;)i=i[o]=i[o]||{},o=n[a++];return i[o]=e}}),t("skylark-langx-ns/ns",["./_attach"],function(t){var n={attach:function(e,r){return t(n,e,r)}};return n}),t("skylark-langx-ns/main",["./ns"],function(t){return t}),t("skylark-langx-ns",["skylark-langx-ns/main"],function(t){return t}),t("skylark-langx/skylark",["skylark-langx-ns"],function(t){return t}),t("skylark-langx-types/types",["skylark-langx-ns"],function(t){var n,e=Array.isArray,r={}.toString,i=(n={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(t){n["[object "+t+"]"]=t.toLowerCase()}),function(t){return null==t?String(t):n[r.call(t)]||"object"}),a=e||function(t){return object&&object.constructor===Array};function o(t){var n;for(n in t)if(null!==t[n])return!1;return!0}function s(t){return"function"==i(t)}function u(t){return t&&t.nodeType}function c(t){return"number"==typeof t}function l(t){var n=typeof t;return"function"===n||"object"===n&&!!t}function f(t){return"string"==typeof t}function p(t){return t&&t==t.window}return t.attach("langx.types",{isArray:a,isArrayLike:function(t){return!f(t)&&!u(t)&&"number"==typeof t.length&&!s(t)},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===r.call(t)},isDefined:function(t){return void 0!==t},isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isElement:function(t){return!(!t||1!==t.nodeType)},isEmpty:o,isEmptyObject:o,isFunction:s,isHtmlNode:u,isNull:function(t){return null===t},isNumber:c,isNumeric:c,isObject:l,isPlainObject:function(t){return l(t)&&!p(t)&&Object.getPrototypeOf(t)==Object.prototype},isString:f,isSameOrigin:function(t){if(t){var n=location.protocol+"//"+location.hostname;return location.port&&(n+=":"+location.port),t.startsWith(n)}},isSymbol:function(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag},isUndefined:function(t){return void 0===t},isWindow:p,type:i})}),t("skylark-langx-types/main",["./types"],function(t){return t}),t("skylark-langx-types",["skylark-langx-types/main"],function(t){return t}),t("skylark-langx-numbers/numbers",["skylark-langx-ns","skylark-langx-types"],function(t,n){var e=n.isObject,r=n.isSymbol,i=1/0,a=1.7976931348623157e308,o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;function p(t){if(!t)return 0===t?t:0;if((t=h(t))===i||t===-i){var n=t<0?-1:1;return n*a}return t==t?t:0}function h(t){if("number"==typeof t)return t;if(r(t))return o;if(e(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=e(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=c.test(t);return i||l.test(t)?f(t.slice(2),i?2:8):u.test(t)?o:+t}return t.attach("langx.numbers",{toFinite:p,toNumber:h,toInteger:function(t){var n=p(t),e=n%1;return n==n?e?n-e:n:0}})}),t("skylark-langx-numbers/main",["./numbers"],function(t){return t}),t("skylark-langx-numbers",["skylark-langx-numbers/main"],function(t){return t}),t("skylark-langx-objects/objects",["skylark-langx-ns/ns","skylark-langx-ns/_attach","skylark-langx-types","skylark-langx-numbers"],function(t,n,e,r){var i,a,o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u=e.isBoolean,c=e.isFunction,l=e.isObject,f=e.isPlainObject,p=e.isArray,h=e.isArrayLike,d=e.isString,y=r.toInteger;var v,g,k="undefined"!=typeof Symbol?Symbol.prototype:null;function m(t){if(!l(t))return[];var n=[];for(var e in t)n.push(e);return n}function x(t,n){if(!p(n))return null!=t&&o.call(t,n);for(var e=n.length,r=0;r<e;r++){var i=n[r];if(null==t||!o.call(t,i))return!1;t=t[i]}return!!e}function b(t,n,e,r){for(var i in n)r&&void 0!==t[i]||(e&&(f(n[i])||p(n[i]))?(f(n[i])&&!f(t[i])&&(t[i]={}),p(n[i])&&!p(t[i])&&(t[i]=[]),b(t[i],n[i],e,r)):void 0!==n[i]&&(t[i]=n[i]));return t}function w(t){var n=s.call(arguments,0),e=n.shift(),r=!1;return u(n[n.length-1])&&(r=n.pop()),{target:e,sources:n,deep:r}}function _(){var t=w.apply(this,arguments);return t.sources.forEach(function(n){b(t.target,n,t.deep,!1)}),t.target}function A(t){for(var n=m(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}return i=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=typeof t;return("function"===i||"object"===i||"object"==typeof n)&&a(t,n,e,r)},a=function(t,n,e,r){var a=toString.call(t);if(a!==toString.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return k.valueOf.call(t)===k.valueOf.call(n)}var o="[object Array]"===a;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,u=n.constructor;if(s!==u&&!(c(s)&&s instanceof s&&c(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var l=e.length;l--;)if(e[l]===t)return r[l]===n;if(e.push(t),r.push(n),o){if((l=t.length)!==n.length)return!1;for(;l--;)if(!i(t[l],n[l],e,r))return!1}else{var f,p=Object.keys(t);if(l=p.length,Object.keys(n).length!==l)return!1;for(;l--;)if(f=p[l],void 0===n[f]||!i(t[f],n[f],e,r))return!1}return e.pop(),r.pop(),!0},t.attach("langx.objects",{allKeys:m,attach:n,clone:function t(n,e){var r;if(void 0===n||null===n)r=n;else if(e&&n.clone)r=n.clone();else if(p(n)){r=[];for(var i=0;i<n.length;i++)r.push(t(n[i]))}else if(f(n))for(var a in r={},n)r[a]=t(n[a]);else r=n;return r},defaults:(v=m,g=!0,function(t){var n=arguments.length;if(g&&(t=Object(t)),n<2||null==t)return t;for(var e=1;e<n;e++)for(var r=arguments[e],i=v(r),a=i.length,o=0;o<a;o++){var s=i[o];g&&void 0!==t[s]||(t[s]=r[s])}return t}),each:function(t,n){var e,r,i,a;if(t)if(void 0===(e=t.length)){for(r in t)if(t.hasOwnProperty(r)&&(a=t[r],!1===n.call(a,r,a)))break}else for(i=0;i<e&&(a=t[i],!1!==n.call(a,i,a));i++);return this},extend:function(t){var n,e=s.call(arguments,1);"boolean"==typeof t&&(n=t,t=e.shift());0==e.length&&(e=[t],t=this);return e.forEach(function(e){_(t,e,n)}),t},has:x,isEqual:function(t,n){return i(t,n)},includes:function(t,n,e,r){t=h(t)?t:A(t),e=e&&!r?y(e):0;var i=t.length;e<0&&(e=nativeMax(i+e,0));return d(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&baseIndexOf(t,n,e)>-1},isMatch:function(t,n){var e=e(n),r=e.length;if(null==t)return!r;for(var i=Object(t),a=0;a<r;a++){var o=e[a];if(n[o]!==i[o]||!(o in i))return!1}return!0},keys:function(t){if(l(t))return[];var n=[];for(var e in t)x(t,e)&&n.push(e);return n},mixin:_,omit:function(t,n,e){if(!t)return null;for(var r=_({},t),i=1;i<arguments.length;i++){var a=arguments[i];a in t&&delete r[a]}return r},pick:function(t,n,e){if(!t)return null;for(var r={},i=1;i<arguments.length;i++){var a=arguments[i];a in t&&(r[a]=t[a])}return r},removeItem:function(t,n){if(p(t)){var e=t.indexOf(n);-1!=e&&t.splice(e,1)}else if(f(t))for(var r in t)if(t[r]==n){delete t[r];break}return this},result:function(t,n,e){p(n)||(n=n.split("."));var r=n.length;if(!r)return c(e)?e.call(t):e;for(var i=0;i<r;i++){var a=null==t?void 0:t[n[i]];void 0===a&&(a=e,i=r),t=c(a)?a.call(t):a}return t},safeMixin:function(){var t=w.apply(this,arguments);return t.sources.forEach(function(n){b(t.target,n,t.deep,!0)}),t.target},values:A})}),t("skylark-langx-objects/main",["./objects"],function(t){return t}),t("skylark-langx-objects",["skylark-langx-objects/main"],function(t){return t}),t("skylark-langx-arrays/arrays",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(t,n,e){var r=Array.prototype.filter,i=Array.prototype.find,a=n.isArrayLike;function o(t,n,e,r){for(var i=t.length,a=e+(r?1:-1);r?a--:++a<i;)if(n(t[a],a,t))return a;return-1}function s(t){return t!=t}function u(t){if(a(t)){for(var n=[],e=0;e<t.length;e++){var r=t[e];if(a(r))for(var i=0;i<r.length;i++)n.push(r[i]);else n.push(r)}return n}return t}return t.attach("langx.arrays",{baseFindIndex:o,baseIndexOf:function(t,n,e){if(n!=n)return o(t,s,e);var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1},compact:function(t){return r.call(t,function(t){return null!=t})},first:function(t,n){return n?t.slice(0,n):t[0]},filter:function(t,n){return r.call(t,n)},find:function(t,n){return i.call(t,n)},flatten:u,grep:function(t,n){var r=[];return e.each(t,function(t,e){n(e,t)&&r.push(e)}),r},inArray:function(t,n){if(!n)return-1;var e;if(n.indexOf)return n.indexOf(t);e=n.length;for(;e--;)if(n[e]===t)return e;return-1},makeArray:function(t,n,e){if(a(t))return(e||[]).concat(Array.prototype.slice.call(t,n||0));return[t]},merge:function(t,n){var e=n.length,r=t.length,i=0;if("number"==typeof e)for(;i<e;i++)t[r++]=n[i];else for(;void 0!==n[i];)t[r++]=n[i++];return t.length=r,t},forEach:function(t,n){if(t.forEach)return t.forEach(n);for(var e=0;e<t.length;e++)n(t[e],e)},map:function(t,n){var e,r,i,o=[];if(a(t))for(r=0;r<t.length;r++)null!=(e=n.call(t[r],t[r],r))&&o.push(e);else for(i in t)null!=(e=n.call(t[i],t[i],i))&&o.push(e);return u(o)},reduce:function(t,n,e){return Array.prototype.reduce.call(t,n,e)},uniq:function(t){return r.call(t,function(n,e){return t.indexOf(n)==e})}})}),t("skylark-langx-arrays/main",["./arrays"],function(t){return t}),t("skylark-langx-arrays",["skylark-langx-arrays/main"],function(t){return t}),t("skylark-langx/arrays",["skylark-langx-arrays"],function(t){return t}),t("skylark-langx-klass/klass",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays"],function(t,n,e,r){var i=r.uniq,a=e.has,o=e.mixin,s=n.isArray,u=n.isDefined;var c=function(){function t(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function e(r,c,l,f){s(c)&&(f=l,l=c,c=null),c=c||Object,u(l)&&!s(l)&&(f=l,l=!1);var p=c;l&&(l=function(t,n){var e=[];return n.forEach(function(t){if(a(t,"__mixins__"))throw new Error("nested mixins");for(var n=[];t;)n.unshift(t),t=t.superclass;e=e.concat(n)}),(e=(e=i(e)).filter(function(n){for(var e=t;e;){if(n===e)return!1;if(a(e,"__mixins__"))for(var r=e.__mixins__,i=0;i<r.length;i++)if(r[i]===n)return!1;e=e.superclass}return!0})).length>0&&e}(p,l)),l&&(p=function(t,n){for(var e=t,r=0;r<n.length;r++){var i=new Function;i.prototype=Object.create(e.prototype),i.__proto__=e,i.superclass=null,o(i.prototype,n[r].prototype),i.prototype.__mixin__=n[r],e=i}return e}(p,l));var h=r.klassName||"",d=new Function("return function "+h+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.superclass=c,d.__proto__=p,d._constructor||(d._constructor=t),l&&(d.__mixins__=l),d.partial||(d.partial=function(t,e){return function(t,e,r){var i=t.prototype,a=t.superclass.prototype,o=r&&r.noOverrided;r&&r.overrides;for(var s in e)if("constructor"!==s){var u=e[s];"function"==typeof e[s]?i[s]=u._constructor||o||"function"!=typeof a[s]?u:function(t,n,e){return function(){var t=this.overrided;this.overrided=e;var r=n.apply(this,arguments);return this.overrided=t,r}}(0,u,a[s]):n.isPlainObject(u)&&null!==u&&u.get?Object.defineProperty(i,s,u):i[s]=u}return t}(this,t,e)}),d.inherit||(d.inherit=function(t,n,r){return e(t,this,n,r)}),d.partial(r,f),d}}();return t.attach("langx.klass",c)}),t("skylark-langx-klass/main",["./klass"],function(t){return t}),t("skylark-langx-klass",["skylark-langx-klass/main"],function(t){return t}),t("skylark-langx/klass",["skylark-langx-klass"],function(t){return t}),t("skylark-langx/ArrayStore",["./klass"],function(t){var n=function(t){if(!t)return t;var e=!!t.then;function r(r){t[r]=function(){var i=arguments,a=Deferred.when(t,function(t){return n(Array.prototype[r].apply(t,i))});if("forEach"!==r||e)return a}}return e&&(t=Object.delegate(t)),r("forEach"),r("filter"),r("map"),null==t.total&&(t.total=Deferred.when(t,function(t){return t.length})),t},e=t({klassName:"ArrayStore",queryEngine:function(t,n){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var e=t;t=function(t){for(var n in e){var r=e[n];if(r&&r.test){if(!r.test(t[n],t))return!1}else if(r!=t[n])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function r(e){var r=function(t,n,e){var r,i=0,a=t&&t.length||0,o=[];a&&"string"==typeof t&&(t=t.split(""));"string"==typeof n&&(n=cache[n]||buildFn(n));if(e)for(;i<a;++i)r=t[i],n.call(e,r,i,t)&&o.push(r);else for(;i<a;++i)r=t[i],n(r,i,t)&&o.push(r);return o}(e,t),i=n&&n.sort;if(i&&r.sort("function"==typeof i?i:function(t,n){for(var e,r=0;e=i[r];r++){var a=t[e.attribute],o=n[e.attribute];if(a=null!=a?a.valueOf():a,o=null!=o?o.valueOf():o,a!=o)return!!e.descending==(null==a||a>o)?-1:1}return 0}),n&&(n.start||n.count)){var a=r.length;(r=r.slice(n.start||0,(n.start||0)+(n.count||1/0))).total=a}return r}return r.matches=t,r},idProperty:"id",get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},put:function(t,n){var e=this.data,r=this.index,i=this.idProperty,a=t[i]=n&&"id"in n?n.id:i in t?t[i]:Math.random();if(a in r){if(n&&!1===n.overwrite)throw new Error("Object already exists");e[r[a]]=t}else r[a]=e.push(t)-1;return a},add:function(t,n){return(n=n||{}).overwrite=!1,this.put(t,n)},remove:function(t){var n=this.index,e=this.data;if(t in n)return e.splice(n[t],1),this.setData(e),!0},query:function(t,e){return n(this.queryEngine(t,e)(this.data))},setData:function(t){t.items?(this.idProperty=t.identifier||this.idProperty,t=this.data=t.items):this.data=t,this.index={};for(var n=0,e=t.length;n<e;n++)this.index[t[n][this.idProperty]]=n},init:function(t){for(var n in t)this[n]=t[n];this.setData(this.data||[])}});return e}),t("skylark-langx-aspect/aspect",["skylark-langx-ns"],function(t){var n,e=0;function r(t){return function(r,i,a,o){var s,u=r[i];u&&u.target==r||(r[i]=s=function(){for(var t=e,r=arguments,i=s.before;i;)r=i.advice.apply(this,r)||r,i=i.next;if(s.around)var a=s.around.advice(this,r);for(var o=s.after;o&&o.id<t;){if(o.receiveArguments){var u=o.advice.apply(this,r);a=u===n?a:u}else a=o.advice.call(this,a,r);o=o.next}return a},u&&(s.around={advice:function(t,n){return u.apply(t,n)}}),s.target=r);var c=function(t,n,r,i){var a,o=t[n],s="around"==n;if(s){var u=r(function(){return o.advice(this,arguments)});a={remove:function(){u&&(u=t=r=null)},advice:function(t,n){return u?u.apply(t,n):o.advice(t,n)}}}else a={remove:function(){if(a.advice){var e=a.previous,i=a.next;i||e?(e?e.next=i:t[n]=i,i&&(i.previous=e)):delete t[n],t=r=a.advice=null}},id:e++,advice:r,receiveArguments:i};if(o&&!s)if("after"==n){for(;o.next&&(o=o.next););o.next=a,a.previous=o}else"before"==n&&(t[n]=a,a.next=o,o.previous=a);else t[n]=a;return a}(s||u,t,a,o);return a=null,c}}return t.attach("langx.aspect",{after:r("after"),around:r("around"),before:r("before")})}),t("skylark-langx-aspect/main",["./aspect"],function(t){return t}),t("skylark-langx-aspect",["skylark-langx-aspect/main"],function(t){return t}),t("skylark-langx/aspect",["skylark-langx-aspect"],function(t){return t}),t("skylark-langx-funcs/funcs",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(t,n,e){var r=e.mixin,i=Array.prototype.slice,a=n.isFunction,o=n.isString;function s(t,n){var e=2 in arguments&&i.call(arguments,2);if(a(t)){return function(){return t.apply(n,e?e.concat(i.call(arguments)):arguments)}}if(o(n))return e?(e.unshift(t[n],t),s.apply(null,e)):s(t[n],t);throw new TypeError("expected function")}var u=function(){function t(){}return function(n,e){t.prototype=n;var i=new t;return t.prototype=null,e&&r(i,e),i}}(),c={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},l=/(.)^/,f={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},p=/\\|'|\r|\n|\t|\u2028|\u2029/g;return t.attach("langx.funcs",{bind:s,debounce:function(t,n){var e;return function(){var r=this,i=arguments;e&&clearTimeout(e),e=setTimeout(function(){e=null,t.apply(r,i)},n)}},delegate:u,defer:function(t){requestAnimationFrame?requestAnimationFrame(t):setTimeoutout(t);return this},negate:function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(...n){return!t.apply(this,n)}},noop:function(){},proxy:s,returnTrue:function(){return!0},returnFalse:function(){return!1},templateSettings:c,template:function(t,n,r){var i;r=e.defaults({},r,c);var a=RegExp([(r.escape||l).source,(r.interpolate||l).source,(r.evaluate||l).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(a,function(n,e,r,i,a){return u+=t.slice(o,a).replace(p,function(t){return"\\"+f[t]}),e&&(u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(u+="';\n"+i+"\n__p+='"),o=a+n.length,n}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{i=new Function(r.variable||"obj","_",u)}catch(t){throw t.source=u,t}if(n)return i(n,this);var h=s(function(t){return i.call(this,t,this)},this),d=r.variable||"obj";return h.source="function("+d+"){\n"+u+"}",h}})}),t("skylark-langx-funcs/main",["./funcs"],function(t){return t}),t("skylark-langx-funcs",["skylark-langx-funcs/main"],function(t){return t}),t("skylark-langx-async/Deferred",["skylark-langx-arrays","skylark-langx-funcs","skylark-langx-objects"],function(t,n,e){"use strict";var r=Array.prototype.slice,i=n.proxy,a=t.makeArray,o=e.result,s=e.mixin;s(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(){for(var t=0;t<arguments.length;t++)this.then(arguments[t]);return this},fail:function(t){return this.catch(t),this}});var u=function(){var t=this;this.promise=c(new Promise(function(n,e){t._resolve=n,t._reject=e}))};function c(t){if(t.isResolved)return t;var n=!0,e=!1,r=!1,i=t.then(function(t){return r=!0,n=!1,t},function(t){throw e=!0,n=!1,t});i.isResolved=function(){return r},i.isPending=function(){return n},i.isRejected=function(){return e},i.state=function(){return r?"resolved":e?"rejected":"pending"};var a=[],o=[];return i.then=function(t,n,e){return e&&this.progress(e),c(Promise.prototype.then.call(this,t&&function(n){return n&&void 0!==n.__ctx__?t.apply(n.__ctx__,n):t(n)},n&&function(t){return t&&void 0!==t.__ctx__?n.apply(t.__ctx__,t):n(t)}))},i.progress=function(t){return a.forEach(function(n){t(n)}),o.push(t),this},i.pipe=i.then,i.notify=function(t){try{return a.push(t),o.forEach(function(n){return n(t)})}catch(t){this.reject(t)}return this},i}return u.prototype.resolve=function(t){var n=r.call(arguments);return this.resolveWith(null,n)},u.prototype.resolveWith=function(t,n){return(n=n?a(n):[]).__ctx__=t,this._resolve(n),this._resolved=!0,this},u.prototype.notify=function(t){var n=o(this,"promise");return n.notify(t),this},u.prototype.reject=function(t){var n=r.call(arguments);return this.rejectWith(null,n)},u.prototype.rejectWith=function(t,n){return(n=n?a(n):[]).__ctx__=t,this._reject(n),this._rejected=!0,this},u.prototype.isResolved=function(){var t=o(this,"promise");return t.isResolved()},u.prototype.isRejected=function(){var t=o(this,"promise");return t.isRejected()},u.prototype.then=function(t,n,e){var r=o(this,"promise");return r.then(t,n,e)},u.prototype.progress=function(t){var n=o(this,"promise");return n.progress(t)},u.prototype.catch=function(t){var n=o(this,"promise");return n.catch(t)},u.prototype.always=function(){var t=o(this,"promise");return t.always.apply(t,arguments)},u.prototype.done=function(){var t=o(this,"promise");return t.done.apply(t,arguments)},u.prototype.fail=function(t){var n=o(this,"promise");return n.fail(t)},u.all=function(t){var n=new u;return Promise.all(t).then(n.resolve.bind(n),n.reject.bind(n)),o(n,"promise")},u.first=function(t){return c(Promise.race(t))},u.when=function(t,n,e,r){var a=t&&"function"==typeof t.then,o=a&&t instanceof Promise;if(!a)return arguments.length>1?n?n(t):t:(new u).resolve(t);if(!o){var s=new u(t.cancel);t.then(i(s.resolve,s),i(s.reject,s),s.notify),t=s.promise}return n||e||r?t.then(n,e,r):t},u.reject=function(t){var n=new u;return n.reject(t),n.promise},u.immediate=u.resolve=function(t){var n=new u;return n.resolve.apply(n,arguments),n.promise},u}),t("skylark-langx-async/async",["skylark-langx-ns","skylark-langx-objects","./Deferred"],function(t,n,e){var r=n.each,i={Deferred:e,parallel:function(t,n,i){var a=[];return i=i||null,n=n||[],r(t,function(t,e){a.push(e.apply(i,n))}),e.all(a)},series:function(t,n,i){var a=[],o=new e,s=o.promise;return i=i||null,n=n||[],o.resolve(),r(t,function(t,e){s=s.then(function(){return e.apply(i,n)}),a.push(s)}),e.all(a)},waterful:function(t,n,i){var a=new e,o=a.promise;return i=i||null,n=n||[],a.resolveWith(i,n),r(t,function(t,n){o=o.then(n)}),o}};return t.attach("langx.async",i)}),t("skylark-langx-async/main",["./async"],function(t){return t}),t("skylark-langx-async",["skylark-langx-async/main"],function(t){return t}),t("skylark-langx/async",["skylark-langx-async"],function(t){return t}),t("skylark-langx-datetimes/datetimes",["skylark-langx-ns"],function(t){return t.attach("langx.datetimes",{parseMilliSeconds:function(t){var n=t.split(" "),e=parseInt(n[0]);if(isNaN(e))return 0;switch(n[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*e;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*e;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*e;case"days":case"day":case"DD":case"dd":case"d":return 864e5*e;case"months":case"month":case"MM":case"M":return 24192e5*e;case"weeks":case"week":case"W":case"w":return 6048e5*e;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*e;default:return 0}}})}),t("skylark-langx-datetimes/main",["./datetimes"],function(t){return t}),t("skylark-langx-datetimes",["skylark-langx-datetimes/main"],function(t){return t}),t("skylark-langx/datetimes",["skylark-langx-datetimes"],function(t){return t}),t("skylark-langx/Deferred",["skylark-langx-async/Deferred"],function(t){return t}),t("skylark-langx-emitter/Emitter",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass"],function(t,n,e,r,i){var a=Array.prototype.slice,o=r.compact,s=n.isDefined,u=n.isPlainObject,c=n.isFunction,l=n.isString,f=n.isEmptyObject,p=e.mixin,h=e.safeMixin;function d(t){var n=(""+t).split(".");return{name:n[0],ns:n.slice(1).join(" ")}}var y=i({on:function(t,n,e,r,i,a){var o=this,s=this._hub||(this._hub={});return u(t)?(i=r,each(t,function(t,r){o.on(t,n,e,r,i,a)}),this):(l(n)||c(r)||(i=r,r=e,e=n,n=void 0),c(e)&&(i=r,r=e,e=null),l(t)&&(t=t.split(/\s/)),t.forEach(function(t){var o=d(t),u=o.name,c=o.ns;(s[u]||(s[u]=[])).push({fn:r,selector:n,data:e,ctx:i,ns:c,one:a})}),this)},one:function(t,n,e,r,i){return this.on(t,n,e,r,i,1)},emit:function(t){if(!this._hub)return this;var n=this;l(t)&&(t=new CustomEvent(t)),Object.defineProperty(t,"target",{value:this});var e=a.call(arguments,1);return e=s(e)?[t].concat(e):[t],[t.type||t.name,"all"].forEach(function(r){var i=d(r),a=i.name,s=i.ns,u=n._hub[a];if(u){for(var c=u.length,l=!1,f=0;f<c;f++){var h=u[f];(!s||h.ns&&h.ns.startsWith(s))&&(t.data?h.data&&(t.data=p({},h.data,t.data)):t.data=h.data||null,h.fn.apply(h.ctx,e),h.one&&(u[f]=null,l=!0))}l&&(n._hub[r]=o(u))}}),this},listened:function(t){var n=(this._hub||(this._events={}))[t]||[];return n.length>0},listenTo:function(t,n,e,r){if(!t)return this;l(e)&&(e=this[e]),r?t.one(n,e,this):t.on(n,e,this);for(var i,a=this._listeningTo||(this._listeningTo=[]),o=0;o<a.length;o++)if(a[o].obj==t){i=a[o];break}i||a.push(i={obj:t,events:{}});var s=i.events,u=s[n]=s[n]||[];return-1==u.indexOf(e)&&u.push(e),this},listenToOnce:function(t,n,e){return this.listenTo(t,n,e,1)},off:function(t,n){var e=this._hub||(this._hub={});return l(t)&&(t=t.split(/\s/)),t.forEach(function(t){var r=d(t),i=r.name,a=r.ns,o=e[i];if(o){var s=[];if(n||a)for(var u=0,c=o.length;u<c;u++)n&&o[u].fn!==n&&o[u].fn._!==n?s.push(o[u]):!a||o[u].ns&&0==o[u].ns.indexOf(a)||s.push(o[u]);s.length?e[i]=s:delete e[i]}}),this},unlistenTo:function(t,n,e){var r=this._listeningTo;if(!r)return this;for(var i=0;i<r.length;i++){var a=r[i];if(!t||t==a.obj){var s=a.events;for(var u in s)if(!n||n==u){for(var c=s[u],l=0;l<c.length;l++)e&&e!=c[i]||(a.obj.off(u,c[i],this),c[i]=null);c=s[u]=o(c),f(c)&&(s[u]=null)}f(s)&&(r[i]=null)}}return r=this._listeningTo=o(r),f(r)&&(this._listeningTo=null),this},trigger:function(){return this.emit.apply(this,arguments)}});return y.createEvent=function(t,n){var e=new CustomEvent(t,n);return h(e,n)},t.attach("langx.Emitter",y)}),t("skylark-langx-emitter/Evented",["skylark-langx-ns/ns","./Emitter"],function(t,n){return t.attach("langx.Evented",n)}),t("skylark-langx-emitter/main",["./Emitter","./Evented"],function(t){return t}),t("skylark-langx-emitter",["skylark-langx-emitter/main"],function(t){return t}),t("skylark-langx/Emitter",["skylark-langx-emitter"],function(t){return t}),t("skylark-langx/Evented",["skylark-langx-emitter"],function(t){return t}),t("skylark-langx/funcs",["skylark-langx-funcs"],function(t){return t}),t("skylark-langx-hoster/hoster",["skylark-langx-ns"],function(t){var n={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(n.isNode=!0,n.isBrowser=!1),n.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var e=null;if(Object.defineProperty(n,"document",function(){if(!e){var t="undefined"==typeof window?require("html-element"):window;e=t.document}return e}),n.isBrowser){var r=function(t){t=t.toLowerCase();var n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}}(navigator.userAgent),i=n.browser={};r.browser&&(i[r.browser]=!0,i.version=r.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0)}return t.attach("langx.hoster",n)}),t("skylark-langx-hoster/main",["./hoster"],function(t){return t}),t("skylark-langx-hoster",["skylark-langx-hoster/main"],function(t){return t}),t("skylark-langx/hoster",["skylark-langx-hoster"],function(t){return t}),t("skylark-langx/numbers",["skylark-langx-numbers"],function(t){return t}),t("skylark-langx/objects",["skylark-langx-objects"],function(t){return t}),t("skylark-langx-strings/strings",["skylark-langx-ns"],function(t){var n=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"});function e(t){return n[t]}var r=/[&<>"'`=]/g;var i=0;function a(t,n){var e,r,i,a,o,s,u,c=arguments.callee;return c.cache[t]||(c.cache[t]=(e=t,r=/^[\w\-]+$/.test(t)?c.get(t):(e="template(string)",t),i=1,a=("try { "+(c.variable?"var "+c.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+r.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++i+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(c.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+e+"' + ' line ' + this.line + ')'; } //@ sourceURL="+e+"\n").replace(/this\.ret \+= '';/g,""),o=new Function(a),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},u=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return s[t]})},function(t){return o.call(c.context={escapeHTML:u,line:1,ret:"",stash:t})})),n?c.cache[t](n):c.cache[t]}return a.cache={},a.get=function(t){return document.getElementById(t).innerHTML},t.attach("langx.strings",{camelCase:function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},deserializeValue:function(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(n){return t}},escapeHTML:function(t){if(null==t)return"";if(!t)return String(t);return t.toString().replace(r,e)},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,e="x"===t?n:3&n|8;return e.toString(16)})},lowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},rtrim:function(t){return t.replace(/\s+$/g,"")},serializeValue:function(t){return JSON.stringify(t)},substitute:function(t,n,e,r){function i(t,n){if(t.match(/\./)){var e,r=function(t,n){var i=t.pop();return i?n[i]?r(t,e=n[i]):null:e};return r(t.split(".").reverse(),n)}return n[t]}return r=r||window,e=e?proxy(r,e):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,a,o){var s=i(a,n);return o&&(s=i(o,r).call(r,s,a)),e(s,a).toString()})},slugify:function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var n="ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;",e=0,r=n.length;e<r;e++)t=t.replace(new RegExp(n.charAt(e),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(e));return t=t.replace(/\s+/g,"-").replace(/-+/g,"-")},trim:function(t){return null==t?"":String.prototype.trim.call(t)},uniqueId:function(t){var n=++i+"";return t?t+n:n},upperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}})}),t("skylark-langx-strings/main",["./strings"],function(t){return t}),t("skylark-langx-strings",["skylark-langx-strings/main"],function(t){return t}),t("skylark-langx/strings",["skylark-langx-strings"],function(t){return t}),t("skylark-langx/Stateful",["./Evented","./strings","./objects"],function(t,n,e){var r=e.isEqual,i=e.mixin,a=e.result,o=e.isEmptyObject,s=e.clone,u=n.uniqueId,c=t.inherit({_construct:function(t,n){var e=t||{};n||(n={}),this.cid=u(this.cidPrefix),this.attributes={},n.collection&&(this.collection=n.collection),n.parse&&(e=this.parse(e,n)||{});var r=a(this,"defaults");e=i({},r,e),this.set(e,n),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(t){return s(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,n,e){if(null==t)return this;var i;if("object"==typeof t?(i=t,e=n):(i={})[t]=n,e||(e={}),!this._validate(i,e))return!1;var a=e.unset,o=e.silent,u=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=s(this.attributes),this.changed={});var l=this.attributes,f=this.changed,p=this._previousAttributes;for(var h in i)n=i[h],r(l[h],n)||u.push(h),r(p[h],n)?delete f[h]:f[h]=n,a?delete l[h]:l[h]=n;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){u.length&&(this._pending=e);for(var d=0;d<u.length;d++)this.trigger("change:"+u[d],this,l[u[d]],e)}if(c)return this;if(!o)for(;this._pending;)e=this._pending,this._pending=!1,this.trigger("change",this,e);return this._pending=!1,this._changing=!1,this},unset:function(t,n){return this.set(t,void 0,i({},n,{unset:!0}))},clear:function(t){var n={};for(var e in this.attributes)n[e]=void 0;return this.set(n,i({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o(this.changed):void 0!==this.changed[t]},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&s(this.changed);var n=this._changing?this._previousAttributes:this.attributes,e={};for(var i in t){var a=t[i];r(n[i],a)||(e[i]=a)}return!o(e)&&e},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i({},t,{validate:!0}))},_validate:function(t,n){if(!n.validate||!this.validate)return!0;t=i({},this.attributes,t);var e=this.validationError=this.validate(t,n)||null;return!e||(this.trigger("invalid",this,e,i(n,{validationError:e})),!1)}});return c}),t("skylark-langx-topic/topic",["skylark-langx-ns","skylark-langx-emitter/Evented"],function(t,n){var e=new n;return t.attach("langx.topic",{publish:function(t,n,r){var i=[].slice.call(arguments,1);return e.trigger({type:t,data:i})},subscribe:function(t,n,r){var i=function(t){n.apply(r,t.data)};return e.on(t,i),{remove:function(){e.off(t,i)}}}})}),t("skylark-langx-topic/main",["./topic"],function(t){return t}),t("skylark-langx-topic",["skylark-langx-topic/main"],function(t){return t}),t("skylark-langx/topic",["skylark-langx-topic"],function(t){return t}),t("skylark-langx/types",["skylark-langx-types"],function(t){return t}),t("skylark-langx/langx",["./skylark","./arrays","./ArrayStore","./aspect","./async","./datetimes","./Deferred","./Emitter","./Evented","./funcs","./hoster","./klass","./numbers","./objects","./Stateful","./strings","./topic","./types"],function(t,n,e,r,i,a,o,s,u,c,l,f,p,h,d,y,v,g){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var k=h.mixin,m=(h.safeMixin,g.isFunction);var x=1;function b(){return b}return k(b,{createEvent:s.createEvent,funcArg:function(t,n,e,r){return m(n)?n.call(t,e,r):n},getQueryParams:function(t){var n=(t=t||window.location.href).split("?"),e={};n.length>1&&n[1].split("&").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]});return e},toPixel:function(t){return parseFloat(t)||0},uid:function(t){return t._uid||(t._uid=x++)},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),k(b,n,r,a,c,p,h,y,g,{ArrayStore:e,async:i,Deferred:o,Emitter:s,Evented:u,hoster:l,klass:f,Stateful:d,topic:v}),t.langx=b}),t("skylark-domx-browser/browser",["skylark-langx/skylark","skylark-langx/langx"],function(t,n){"use strict";var e,r,i=n.hoster.browser,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},o=null,s="",u="",c={},l={},f=/^(Webkit|webkit|O|Moz|moz|ms)(.*)$/,p=window.document,h=p.createElement("div"),d=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.matchesSelector,y=h.requestFullscreen||h.webkitRequestFullscreen||h.mozRequestFullScreen||h.msRequestFullscreen,v=(p.exitFullscreen||p.webkitCancelFullScreen||p.mozCancelFullScreen||p.msExitFullscreen,h.style);for(var g in v){var k=g.match(r||f);if(k){r||(e=k[1],r=new RegExp("^("+e+")(.*)$"),e,s="-"+e.toLowerCase()+"-",u=e.toLowerCase()),c[n.lowerFirst(k[2])]=g;var m=n.dasherize(k[2]);l[m]=s+m,a[g]&&(o=a[g])}}return o||void 0!==v.transition&&(o=a.transition),n.mixin(i,{css3PropPrefix:s,isIE:!!/msie/i.exec(window.navigator.userAgent),normalizeStyleProperty:function(t){return c[t]||t},normalizeCssProperty:function(t){return l[t]||t},normalizeCssEvent:function(t){return u?u+t:t.toLowerCase()},matchesSelector:d,requestFullScreen:y,exitFullscreen:y,location:function(){return window.location},support:{}}),o&&(i.support.transition={end:o}),h=null,t.attach("domx.browser",i)}),t("skylark-domx-browser/main",["./browser"],function(t){return t}),t("skylark-domx-browser",["skylark-domx-browser/main"],function(t){return t}),t("skylark-domx-noder/noder",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser"],function(t,n,e){var r=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),i=/^\s*<(\w+|!)[^>]*>/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,o=document.createElement("div"),s=document.createElement("table"),u=document.createElement("tbody"),c=document.createElement("tr"),l={tr:u,tbody:s,thead:s,tfoot:s,td:c,th:c,"*":o},f=/^(?:body|html)$/i,p=Array.prototype.map,h=Array.prototype.slice;function d(t,e){return n.isArrayLike(t)||(t=[t]),e&&(t=p.call(t,function(t){return t.cloneNode(!0)})),n.flatten(t)}function y(t,n){var e=t.nodeName&&t.nodeName.toLowerCase();return void 0!==n?e===n.toLowerCase():e}function v(t,e){if(n.isFunction(t))return t.apply(e,[]);if(n.isArrayLike(t)){for(var r,i=0;i<t.length;i++)n.isFunction(t[i])&&(t[i]=t[i].apply(e,[]),n.isArrayLike(t[i])&&(r=!0));r&&(t=n.flatten(t))}return t}function g(t,n,e){n=v(n,t);for(var r=t,i=d(n,e),a=0;a<i.length;a++)r.appendChild(i[a]);return this}function k(t,n,e){var r;if(r=/svg/i.test(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t),n)for(var i in n)r.setAttribute(i,n[i]);return e&&g(e,r),r}var m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;function x(t,n,e){if(e)return t.parentNode===n;if(document.documentElement.contains)return n.contains(t);for(;t;){if(n===t)return!0;t=t.parentNode}return!1}function b(t){return t?9==t.nodeType?t:t.ownerDocument:document}function w(){return w}return n.mixin(w,{active:function(t){var n;t=t||document;try{n=t.activeElement}catch(e){n=t.body}n||(n=t.body);n.nodeName||(n=t.body);return n},blur:function(t){t.blur()},body:function(){return document.body},clone:function(t,n){var e,i=this;if(!r||1!==t.nodeType||n)return t.cloneNode(n);if(!n)return e=document.createElement(t.nodeName),each(i.getAttribs(t),function(n){i.setAttrib(e,n.nodeName,i.getAttrib(t,n.nodeName))}),e},contents:function(t){if(y(t,"iframe"))return t.contentDocument;return t.childNodes},createElement:k,createFragment:function(t){if(t=n.trim(t),a.test(t))return[k(RegExp.$1)];var e=i.test(t)&&RegExp.$1;e in l||(e="*");var r=l[e];return r.innerHTML=function(t){for(var n=t.split("/>"),e="",r=0;r<n.length-1;r++){var i=n[r].split("<");e+=n[r]+"></"+i[i.length-1].split(" ")[0]+">"}return e+n[n.length-1]}(""+t),dom=h.call(r.childNodes),dom.forEach(function(t){r.removeChild(t)}),dom},contains:function(t,n){return x(n,t)},createTextNode:function(t){return document.createTextNode(t)},doc:function(){return document},empty:function(t){for(;t.hasChildNodes();){var n=t.firstChild;t.removeChild(n)}return this},fullScreen:function(t){if(!1===t)e.exitFullScreen.apply(document);else{if(!t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.requestFullScreen.apply(t),t}},focusable:function(t,n){var e,r,i,a,o,s=t.nodeName.toLowerCase();if("area"===s)return e=t.parentNode,r=e.name,!(!t.href||!r||"map"!==e.nodeName.toLowerCase())&&((i=$("img[usemap='#"+r+"']")).length>0&&i.is(":visible"));/^(input|select|textarea|button|object)$/.test(s)?(a=!t.disabled)&&(o=$(t).closest("fieldset")[0])&&(a=!o.disabled):a="a"===s&&t.href||n;return a&&$(t).is(":visible")&&visible($(t))},html:function(t,e){if(void 0===e)return t.innerHTML;if(this.empty(t),e=e||"",n.isString(e)&&(e=e.replace(m,"<$1></$2>")),n.isString(e)||n.isNumber(e))t.innerHTML=e;else if(n.isArrayLike(e))for(var r=0;r<e.length;r++)t.appendChild(e[r]);else t.appendChild(e);return this},isChildOf:x,isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isInDocument:function(t){return t===document.body||document.body.contains(t)},isWindow:n.isWindow,nodeName:y,offsetParent:function(t){var n=t.offsetParent||document.body;for(;n&&!f.test(n.nodeName)&&"static"==document.defaultView.getComputedStyle(n).position;)n=n.offsetParent;return n},ownerDoc:b,ownerWindow:function(t){var n=b(t);return n.defaultView||n.parentWindow},after:function(t,n,e){n=v(n,t);var r=(a=t).parentNode;if(r)for(var i=d(n,e),a=a.nextSibling,o=0;o<i.length;o++)a?r.insertBefore(i[o],a):r.appendChild(i[o]);return this},before:function(t,n,e){n=v(n,t);var r=t,i=r.parentNode;if(i)for(var a=d(n,e),o=0;o<a.length;o++)i.insertBefore(a[o],r);return this},prepend:function(t,n,e){for(var r=t,i=r.firstChild,a=d(n,e),o=0;o<a.length;o++)i?r.insertBefore(a[o],i):r.appendChild(a[o]);return this},append:g,reflow:function(t){null==el&&(t=document);return t.offsetHeight,this},remove:function(t){if(t&&t.parentNode)try{t.parentNode.removeChild(t)}catch(t){console.warn("The node is already removed",t)}return this},removeChild:function(t,e){n.isArrayLike(e)||(e=[e]);for(var r=0;r<e.length;r++)t.removeChild(e[r]);return this},replace:function(t,n){return n.parentNode.replaceChild(t,n),this},traverse:function t(n,e){e(n);for(var r=0,i=n.childNodes.length;r<i;r++)t(n.childNodes[r],e);return this},reverse:function(t){for(var n=t.firstChild,e=t.children.length-1;e>0;e--)if(e>0){var r=t.children[e];t.insertBefore(r,n)}},wrapper:function(t,e){n.isString(e)&&(e=this.createFragment(e).firstChild);t.parentNode.insertBefore(e,t),e.appendChild(t)},wrapperInner:function(t,n){var e=h.call(t.childNodes);t.appendChild(n);for(var r=0;r<e.length;r++)n.appendChild(e[r]);return this},unwrap:function(t){var n=t.parentNode;if(n){if(this.isDoc(n.parentNode))return;n.parentNode.insertBefore(t,n)}}}),t.attach("domx.noder",w)}),t("skylark-domx-noder/main",["./noder"],function(t){return t}),t("skylark-domx-noder",["skylark-domx-noder/main"],function(t){return t}),t("skylark-domx-finder/finder",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-noder"],function(t,n,e,r){var a={},o=Array.prototype.filter,s=Array.prototype.slice,u=e.matchesSelector;(function(){var t,n,e,r,i,a={},o={},s=/\\/g,u=function(e,i){if(null==e)return null;if(!0===e.Slick)return e;e=(""+e).replace(/^\s+|\s+$/g,"");var s=(r=!!i)?o:a;if(s[e])return s[e];for(t={Slick:!0,expressions:[],raw:e,reverse:function(){return u(this.raw,!0)}},n=-1;e!=(e=e.replace(p,h)););return t.length=t.expressions.length,s[t.raw]=r?l(t):t},c=function(t){return"!"===t?" ":" "===t?"!":/^!/.test(t)?t.replace(/^!/,""):"!"+t},l=function(t){for(var n=t.expressions,e=0;e<n.length;e++){for(var r=n[e],i={parts:[],tag:"*",combinator:c(r[0].combinator)},a=0;a<r.length;a++){var o=r[a];o.reverseCombinator||(o.reverseCombinator=" "),o.combinator=o.reverseCombinator,delete o.reverseCombinator}r.reverse().push(i)}return t},f=(i=/(?=[\-\[\]{}()*+?.\\\^$|,#\s])/g,function(t){return t.replace(i,"\\")}),p=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+f(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));function h(i,a,o,u,l,p,h,d,y,v,g,k,m,x,b,w){if((a||-1===n)&&(t.expressions[++n]=[],e=-1,a))return"";if(o||u||-1===e){o=o||" ";var _=t.expressions[n];r&&_[e]&&(_[e].reverseCombinator=c(o)),_[++e]={combinator:o,tag:"*"}}var A=t.expressions[n][e];if(l)A.tag=l.replace(s,"");else if(p)A.id=p.replace(s,"");else if(h)h=h.replace(s,""),A.classList||(A.classList=[]),A.classes||(A.classes=[]),A.classList.push(h),A.classes.push({value:h,regexp:new RegExp("(^|\\s)"+f(h)+"(\\s|$)")});else if(m)w=(w=w||b)?w.replace(s,""):null,A.pseudos||(A.pseudos=[]),A.pseudos.push({key:m.replace(s,""),value:w,type:1==k.length?"class":"element"});else if(d){var E,S;switch(d=d.replace(s,""),g=(g||"").replace(s,""),y){case"^=":S=new RegExp("^"+f(g));break;case"$=":S=new RegExp(f(g)+"$");break;case"~=":S=new RegExp("(^|\\s)"+f(g)+"(\\s|$)");break;case"|=":S=new RegExp("^"+f(g)+"(-|$)");break;case"=":E=function(t){return g==t};break;case"*=":E=function(t){return t&&t.indexOf(g)>-1};break;case"!=":E=function(t){return g!=t};break;default:E=function(t){return!!t}}""==g&&/^[*$^]=$/.test(y)&&(E=function(){return!1}),E||(E=function(t){return t&&S.test(t)}),A.attributes||(A.attributes=[]),A.attributes.push({key:d,operator:y,value:g,test:E})}return""}var d=this.Slick||{};d.parse=function(t){return u(t)},d.escapeRegExp=f,this.Slick||(this.Slick=d)}).apply(a);var c=/^(?:input|select|textarea|button)$/i,l=/^h\d$/i,s=Array.prototype.slice;a.parseSelector=a.Slick.parse;var f=a.pseudos={button:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&"button"===t.type||"button"===n},checked:function(t){return!!t.checked},contains:function(t,n,e,r){if($(this).text().indexOf(r)>-1)return this},disabled:function(t){return!!t.disabled},enabled:function(t){return!t.disabled},eq:function(t,n,e,r){return n==r},even:function(t,n,e,r){return n%2==0},focus:function(t){return document.activeElement===t&&(t.href||t.type||t.tabindex)},focusable:function(t){return r.focusable(t,null!=t.tabindex)},first:function(t,n){return 0===n},gt:function(t,n,e,r){return n>r},has:function(t,n,e,r){return k(t,r)},header:function(t){return l.test(t.nodeName)},hidden:function(t){return!a.pseudos.visible(t)},input:function(t){return c.test(t.nodeName)},last:function(t,n,e){return n===e.length-1},lt:function(t,n,e,r){return n<r},not:function(t,n,e,r){return!b(t,r)},odd:function(t,n,e,r){return n%2==1},parent:function(t){return!!t.parentNode},selected:function(t){return!!t.selected},tabbable:function(t){var n=t.tabindex,e=null!=n;return(!e||n>=0)&&r.focusable(element,e)},text:function(t){return"text"===t.type},visible:function(t){return t.offsetWidth&&t.offsetWidth},empty:function(t){return!t.hasChildNodes()}};function p(t){return function(n){var e=n.nodeName.toLowerCase();return"input"===e&&n.type===t}}function h(t){return function(n){var e=n.nodeName.toLowerCase();return("input"===e||"button"===e)&&n.type===t}}for(i in["first","eq","last"].forEach(function(t){f[t].isArrayFilter=!0}),f.nth=f.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})f[i]=p(i);for(i in{submit:!0,reset:!0})f[i]=h(i);function d(t,e,r){for(var i=[],a=r&&n.isString(r);(t=t.parentNode)&&9!==t.nodeType;){if(r)if(a){if(b(t,r))break}else if(n.isArrayLike(r)){if(n.inArray(t,r)>-1)break}else if(t==r)break;e&&!b(t,e)||i.push(t)}return i}function y(t,n){for(var e=t.childNodes,r=[],i=0;i<e.length;i++){var t=e[i];1==t.nodeType&&r.push(t)}return n&&(r=a.filter(r,n)),r}function v(t,n){try{return s.call(t.querySelectorAll(n))}catch(t){}return a.query(t,n)}function g(t,n){try{return t.querySelector(n)}catch(t){}var e=a.query(t,n);return e.length>0?e[0]:null}function k(t,n){return n||(n=t,t=document.body),b(t,n)?t:g(t,n)}function m(t,n,e){for(var r=t.childNodes,i=r[0];i;){if(1==i.nodeType){if(!n||b(i,n))return i;if(e)break}i=i.nextSibling}return null}function x(t,n,e){for(var r=t.childNodes,i=r[r.length-1];i;){if(1==i.nodeType){if(!n||b(i,n))return i;if(e)break}i=i.previousSibling}return null}function b(t,e){if(!e||!t||1!==t.nodeType)return!1;if(n.isString(e)){try{return u.call(t,e.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(t){}return a.match(t,e)}return n.isArrayLike(e)?n.inArray(t,e)>-1:n.isPlainObject(e)?a.check(t,e):t===e}function w(t,n,e){for(var r=t.nextSibling;r;){if(1==r.nodeType){if(!n||b(r,n))return r;if(e)break}r=r.nextSibling}return null}function _(t,n){for(var e=t.nextSibling,r=[];e;)1==e.nodeType&&(n&&!b(e,n)||r.push(e)),e=e.nextSibling;return r}function A(t,n){var e=t.parentNode;return!e||n&&!b(e,n)?null:e}function E(t,n,e){for(var r=t.previousSibling;r;){if(1==r.nodeType){if(!n||b(r,n))return r;if(e)break}r=r.previousSibling}return null}function S(t,n){for(var e=t.previousSibling,r=[];e;)1==e.nodeType&&(n&&!b(e,n)||r.push(e)),e=e.previousSibling;return r}function j(t,n){for(var e=t.parentNode.firstChild,r=[];e;)1==e.nodeType&&e!==t&&(n&&!b(e,n)||r.push(e)),e=e.nextSibling;return r}a.divide=function(t){var n,e,r,i,a,o="",s=[];if((e=t.id)&&(o+="#"+e),r=t.classes)for(var u=r.length;u--;)o+="."+r[u].value;if(i=t.attributes)for(var u=0;u<i.length;u++)i[u].operator?o+="["+i[u].key+i[u].operator+JSON.stringify(i[u].value)+"]":o+="["+i[u].key+"]";if(a=t.pseudos)for(u=a.length;u--;)part=a[u],this.pseudos[part.key]?s.push(part):void 0!==part.value&&(o+=":"+part.key+"("+JSON.stringify(part));return(n=t.tag)&&"*"!==n&&(o=n.toUpperCase()+o),o||(o="*"),{nativeSelector:o,customPseudos:s}},a.check=function(t,n,e,r,i){var a,o,s,c,l,f,p,h,d;if(!i){if(a=n.tag){var y=t.nodeName.toUpperCase();if("*"==a){if(y<"@")return!1}else if(y!=(a||"").toUpperCase())return!1}if((o=n.id)&&t.getAttribute("id")!=o)return!1;if(s=n.classes)for(f=s.length;f--;)if(!(h=t.getAttribute("class"))||!s[f].regexp.test(h))return!1;if(c=n.attributes)for(f=c.length;f--;)if((p=c[f]).operator?!p.test(t.getAttribute(p.key)):!t.hasAttribute(p.key))return!1}if(l=n.pseudos)for(f=l.length;f--;)if(p=l[f],d=this.pseudos[p.key]){if((i&&d.isArrayFilter||!i&&!d.isArrayFilter)&&!d(t,e,r,p.value))return!1}else if(!i&&!u.call(t,p.key))return!1;return!0},a.match=function(t,e){var r;if(!(r=n.isString(e)?a.Slick.parse(e):e))return!0;var i,o,s=r.expressions,u=0;for(i=0;o=s[i];i++)if(1==o.length){var c=o[0];if(this.check(t,c))return!0;u++}if(u==r.length)return!1;var l,f=this.query(document,r);for(i=0;l=f[i++];)if(l===t)return!0;return!1},a.filterSingle=function(t,n){var e=o.call(t,function(e,r){return a.check(e,n,r,t,!1)});return e=o.call(e,function(t,r){return a.check(t,n,r,e,!0)})},a.filter=function(t,e){if(!n.isString(e))return a.filterSingle(t,e);var r,i,o=a.Slick.parse(e).expressions,s=[];for(r=0;i=o[r];r++){if(1!=i.length)throw new Error("not supported selector:"+e);var u=i[0],c=a.filterSingle(t,u);s=n.uniq(s.concat(c))}return s},a.combine=function(t,n){var e,r=n.combinator,i=n,u=[];switch(r){case">":u=y(t,i);break;case"+":(e=w(t,i,!0))&&u.push(e);break;case"^":(e=m(t,i,!0))&&u.push(e);break;case"~":u=_(t,i);break;case"++":var c=E(t,i,!0),l=w(t,i,!0);c&&u.push(c),l&&u.push(l);break;case"~~":u=j(t,i);break;case"!":u=d(t,i);break;case"!>":(e=A(t,i))&&u.push(e);break;case"!+":u=E(t,i,!0);break;case"!^":(e=x(t,i,!0))&&u.push(e);break;case"!~":u=S(t,i);break;default:var f=this.divide(n);if(u=s.call(t.querySelectorAll(f.nativeSelector)),f.customPseudos)for(var p=f.customPseudos.length-1;p>=0;p--)u=o.call(u,function(t,n){return a.check(t,{pseudos:[f.customPseudos[p]]},n,u,!1)}),u=o.call(u,function(t,n){return a.check(t,{pseudos:[f.customPseudos[p]]},n,u,!0)})}return u},a.query=function(t,e,r){for(var i,o,s=this.Slick.parse(e),u=[],c=s.expressions,l=0;i=c[l];l++){for(var f,p=[t],h=0;o=i[h];h++)(f=n.map(p,function(t,n){return a.combine(t,o)}))&&(p=f);f&&(u=u.concat(f))}return u};var O=function(){return O};return n.mixin(O,{ancestor:function(t,e,r){var i=r&&n.isString(r);for(;t=t.parentNode;){if(b(t,e))return t;if(r)if(i){if(b(t,r))break}else if(t==r)break}return null},ancestors:d,byId:function(t,n){return(n=n||r.doc()).getElementById(t)},children:y,closest:function(t,n){for(;t&&!b(t,n);)t=t.parentNode;return t},descendant:g,descendants:v,find:k,findAll:function(t,n){n||(n=t,t=document.body);return v(t,n)},firstChild:m,lastChild:x,matches:b,nextSibling:w,nextSiblings:_,parent:A,previousSibling:E,previousSiblings:S,pseudos:a.pseudos,siblings:j}),t.attach("domx.finder",O)}),t("skylark-domx-finder/main",["./finder"],function(t){return t}),t("skylark-domx-finder",["skylark-domx-finder/main"],function(t){return t}),t("skylark-domx-query/query",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-finder"],function(t,n,e,r){var i,a=Array.prototype.some,o=Array.prototype.push,s=(Array.prototype.every,Array.prototype.concat,Array.prototype.slice),u=(Array.prototype.map,Array.prototype.filter),c=Array.prototype.forEach,l=Array.prototype.indexOf,f=Array.prototype.sort,p=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=n.funcArg,d=n.isArrayLike,y=n.isString,v=n.uniq,g=n.isFunction,k=n.type,m=(n.isArray,n.isWindow,n.isDocument,n.isObject);n.isPlainObject,n.compact,n.flatten,n.camelCase,n.dasherize,r.children;function x(t,r,i){return function(i){var a,o=n.map(arguments,function(t){return"function"==(a=k(t))||"object"==a||"array"==a||null==t?t:e.createFragment(t)});return o.length<1?this:(this.each(function(n){t.apply(r,[this,o,n>0])}),this)}}function b(t,e){return function(){var r=s.call(arguments),i=n.map(this,function(n,i){return t.apply(e,[n].concat(r))});return O(v(i))}}function w(t,n,e){return function(r){s.call(arguments);var i=this.map(function(i,a){return t.apply(n,e?[a]:[a,r])});return e&&r?i.filter(r):i}}function _(t,n,e){return function(r,i){s.call(arguments);var a=this.map(function(a,o){return t.apply(n,e?[o,r]:[o,i,r])});return e&&i?a.filter(i):a}}function A(t,n){return function(){var e=s.call(arguments);return this.each(function(r,i){t.apply(n,[this].concat(e))}),this}}function E(t,e,r){return function(i){return n.isDefined(i)?(c.call(this,function(n,a){var o;o=r?h(n,i,a,r(n)):i,t.apply(e,[n,o])}),this):this[0]?t.apply(e,[this[0]]):void 0}}var S,j=n.klass({klassName:"SkNodeList",init:function(t,i){var a,s,u,c;if(t&&(this.context=i=i||e.doc(),y(t)?(this.selector=t,(a="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:p.exec(t))?a[1]?(s=e.createFragment(t),n.isPlainObject(i)&&(c=i)):(u=r.byId(a[2],e.ownerDoc(i)))&&(s=[u]):(n.isString(i)&&(i=r.find(i)),s=r.descendants(i,t))):s=t!==window&&d(t)?t:[t]),s&&(o.apply(this,s),c))for(var l in c)n.isFunction(this[l])?this[l](c[l]):this.attr(l,c[l]);return this}}),O=function(){i=function(t){return t instanceof j},init=function(t,n){return new j(t,n)};var t=function(n,e){return g(n)?(t.ready(function(){n(t)}),p):i(n)?n:e&&i(e)&&y(n)?e.find(n):init(n,e)},p=t(document);t.fn=j.prototype,n.mixin(t.fn,{length:0,map:function(e){return t(v(n.map(this,function(t,n){return e.call(t,n,t)})))},slice:function(){return t(s.apply(this,arguments))},forEach:function(){return c.apply(this,arguments)},get:function(t){return void 0===t?s.call(this):this[t>=0?t:t+this.length]},indexOf:function(){return l.apply(this,arguments)},sort:function(){return f.apply(this,arguments)},toArray:function(){return s.call(this)},size:function(){return this.length},remove:function(t){return t?this.find(t).remove():(this.each(function(t,n){e.remove(n)}),this)},each:function(t){return n.each(this,t),this},filter:function(n){return g(n)?this.not(this.not(n)):t(u.call(this,function(t){return r.matches(t,n)}))},add:function(n,e){return t(v(this.toArray().concat(t(n,e).toArray())))},is:function(t){if(this.length>0){if(n.isString(t))return a.call(this,function(n){return r.matches(n,t)});if(n.isArrayLike(t))return a.call(this,function(e){return n.inArray(e,t)>-1});if(n.isHtmlNode(t))return a.call(this,function(n){return n==t})}return!1},not:function(n){var e=[];if(g(n)&&void 0!==n.call)this.each(function(t,r){n.call(this,t,r)||e.push(this)});else{var r="string"==typeof n?this.filter(n):d(n)&&g(n.item)?s.call(n):t(n);this.forEach(function(t){r.indexOf(t)<0&&e.push(t)})}return t(e)},has:function(n){return this.filter(function(){return m(n)?e.contains(this,n):t(this).find(n).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:w(r.descendants,r),closest:w(r.closest,r),parents:w(r.ancestors,r),parentsUntil:_(r.ancestors,r),parent:w(r.parent,r),children:w(r.children,r),contents:b(e.contents,e),empty:A(e.empty,e),html:E(e.html,e),pluck:function(t){return n.map(this,function(n){return n[t]})},pushStack:function(n){var e=t(n);return e.prevObject=this,e},replaceWith:function(t){return this.before(t).remove()},wrap:function(n){var e="function"==typeof n;return this.each(function(r){t(this).wrapAll(e?n.call(this,r):n)})},wrapAll:function(n){var e;return this[0]&&("function"==typeof n&&(n=n.call(this[0])),e=t(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return"function"==typeof n?this.each(function(e){t(this).wrapInner(n.call(this,e))}):this.each(function(){var e=t(this),r=e.contents();r.length?r.wrapAll(n):e.append(n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){t(this).replaceWith(this.childNodes)}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},toggle:function(n){return this.each(function(){var e=t(this);(void 0===n?"none"==e.css("display"):n)?e.show():e.hide()})},prev:function(n){return t(this.pluck("previousElementSibling")).filter(n||"*")},prevAll:w(r.previousSiblings,r),next:function(n){return t(this.pluck("nextElementSibling")).filter(n||"*")},nextAll:w(r.nextSiblings,r),siblings:w(r.siblings,r),index:function(n){return n?this.indexOf(t(n)[0]):this.parent().children().indexOf(this[0])}}),t.fn.detach=t.fn.remove,t.fn.hover=function(t,n){return this.mouseenter(t).mouseleave(n||t)};e.traverse;return t.fn.after=x(e.after,e),t.fn.prepend=x(e.prepend,e),t.fn.before=x(e.before,e),t.fn.append=x(e.append,e),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,e){t.fn[n]=function(n){for(var r,i=[],a=t(n),s=a.length-1,u=0;u<=s;u++)r=u===s?this:this.clone(!0),t(a[u])[e](r),o.apply(i,r.get());return this.pushStack(i)}}),t}();return(S=O).fn.scrollParent=function(t){var n=this.css("position"),e="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=S(this);return(!e||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:S(this[0].ownerDocument||document)},function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},t.fn.addBack=function(t){return this.prevObject?t?this.add(this.prevObject.filter(t)):this.add(this.prevObject):this},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings,prev,prevAll,next,nextAll".split(",").forEach(function(n){var e=t.fn[n];t.fn[n]=function(){var t=e.apply(this,arguments);return t.prevObject=this,t}})}(O),function(t){var a;t.fn.query=t.fn.find,t.fn.place=function(t,a){return n.isString(t)?t=r.descendant(t):i(t)&&(t=t[0]),this.each(function(n,r){switch(a){case"before":e.before(t,r);break;case"after":e.after(t,r);break;case"replace":e.replace(t,r);break;case"only":e.empty(t),e.append(t,r);break;case"first":e.prepend(t,r);break;default:e.append(t,r)}})},t.fn.addContent=function(t,e){return t.template&&(t=n.substitute(t.template,t)),this.append(t)},t.fn.disableSelection=(a="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(a+".ui-disableSelection",function(t){t.preventDefault()})}),t.fn.enableSelection=function(){return this.off(".ui-disableSelection")},t.fn.reflow=function(){return e.flow(this[0])},t.fn.isBlockNode=function(){return e.isBlockNode(this[0])}}(O),O.fn.plugin=function(t,n){var e=s.call(arguments,1),r=this,i=this;return this.each(function(){i=plugins.instantiate.apply(r,[this,t].concat(e))}),i},O.wraps={wrapper_node_operation:x,wrapper_map:b,wrapper_value:E,wrapper_selector:w,wrapper_some_chk:function(t,n){return function(){var e=s.call(arguments);return a.call(this,function(r){return t.apply(n,[r].concat(e))})}},wrapper_selector_until:_,wrapper_every_act_firstArgFunc:function(t,n,e){return function(r){var i=s.call(arguments);return c.call(this,function(a,o){h(a,r,o,e(a));t.apply(n,[a,r].concat(i.slice(1)))}),this}},wrapper_every_act:A,wrapper_name_value:function(t,e,r){return function(i,a){return n.isPlainObject(i)||n.isDefined(a)?(c.call(this,function(n,o){var s;s=r?h(n,a,o,r(n,i)):a,t.apply(e,[n,i,s])}),this):this[0]?t.apply(e,[this[0],i]):void 0}}},t.attach("domx.query",O)}),t("skylark-domx-query/main",["./query"],function(t){return t}),t("skylark-domx-query",["skylark-domx-query/main"],function(t){return t})}(e,require),!r){var s=require("skylark-langx/skylark");a?module.exports=s:n.skylarkjs=s}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-query-all.js.map
